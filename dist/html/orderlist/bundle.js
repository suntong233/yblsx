!function(e){var n={};function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)i.d(t,a,function(n){return e[n]}.bind(null,a));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i(i.s=0)}([function(e,n,i){"use strict";i.r(n);var t={data:()=>({tabContainer:1,titlelist:["商品名称","数量","价格","操作"]}),computed:{allprice(){return this.$store.state.renderInfo.reduce((e,n)=>e+n.times*n.price,0)}},methods:{itemPrice:(e,n)=>e*n,handleChange(e){this.tabContainer=e},handledelete(e){this.$store.commit("handledelete",e)},changeTimes(e,n){1===e.times&&1===n?this.handledelete(e):e.times+=-n}},template:'\n        <div>\n            <div class="title">订单栏</div>\n            <div class="tabContainer">\n                <div @click="handleChange(1)" :class="{ actived: tabContainer==1 }" class="tabItem">当前订单</div>\n                <div @click="handleChange(2)" :class="{ actived: tabContainer==2 }" class="tabItem">挂单中</div>\n                <div @click="handleChange(3)" :class="{ actived: tabContainer==3 }" class="tabItem">已付款</div>\n                <div @click="handleChange(4)" :class="{ actived: tabContainer==4 }" class="tabItem">取消的订单</div>\n            </div>\n            <div class="content">\n                <div class="contentbox" v-if="tabContainer==1">\n                    <div class="content-noworder">\n                        <div v-for="item in titlelist" class="content-topinfo">{{item}}</div>\n                    </div>\n                    <div class="content-noworder" v-for="item in this.$store.state.renderInfo">\n                        <div class="content-topinfo">{{item.name.substring(0,5)}}</div>\n                        <div class="content-topinfo">{{item.times}}</div>\n                        <div class="content-topinfo">￥ {{itemPrice(item.price,item.times)}}</div>\n                        <div class="content-topinfo">\n                            <span @click="handledelete(item)" class="caozuo">删除</span>\n                            <span @click="changeTimes(item,1)" class="caozuo">-</span>\n                            <span @click="changeTimes(item,-1)" class="caozuo">+</span>\n                        </div>\n                    </div>\n                    <div class="allprice">\n                        立即支付 ￥{{ allprice }}                           \n                    </div>\n                </div>\n                <div class="contentUndo" v-if="tabContainer==2">挂单中...</div>\n                <div class="contentUndo" v-if="tabContainer==3">已付款...</div>\n                <div class="contentUndo" v-if="tabContainer==4">取消的订单...</div>\n            </div>\n        </div>\n    '},a={props:{list:Array},data(){return{tabContainer:1,mainlist:this.list.filter(e=>"主食"===e.classtype),drinklist:this.list.filter(e=>"饮料"===e.classtype),snackslist:this.list.filter(e=>"小食"===e.classtype)}},methods:{handleChange(e){this.tabContainer=e}},template:'\n        <div>\n            <div class="title">产品栏</div>\n            <div class="tabContainer">\n                <div :class="{ actived: tabContainer==1 }" @click="handleChange(1)" class="tabItem">常点食品</div>\n                <div :class="{ actived: tabContainer==2 }" @click="handleChange(2)" class="tabItem">主菜单</div>\n            </div>\n            <div class="content">\n                <div class="normalFoods" v-if="tabContainer==1">\n                    <div class="normalFoods-box">\n                        <div class="normalFoodsTitle">饮料</div>\n                        <item-wrap :list="drinklist"></item-wrap>\n                    </div>\n                    <div class="normalFoods-box">\n                        <div class="normalFoodsTitle">主食</div>\n                        <item-wrap :list="mainlist"></item-wrap>\n                    </div>\n                    <div class="normalFoods-box">\n                        <div class="normalFoodsTitle">小食</div>\n                        <item-wrap :list="snackslist"></item-wrap>\n                    </div>\n                </div>\n                <div class="contentUndo" v-if="tabContainer==2">主菜单...</div>\n            </div>\n        </div>\n    ',components:{"item-wrap":{props:["list"],methods:{handleAdd(e){this.$store.commit("handleAdd",e)}},template:'\n            <div class="item-container">\n                <div class="normalFoods-item" v-for="item in list">\n                    <div class="imgBox"><img :src="item.url"></div>\n                    <div class="goodsinfo">\n                        <span>{{item.name.substring(0,6)}} {{item.price}} (元)</span>\n                    </div>\n                    <div>\n                        <button @click="handleAdd(item)" class="handleAdd">点击添加</button>\n                    </div>\n                </div>\n            </div>\n        '}}};const s=new Vuex.Store({state:{moshi:[],renderInfo:[]},mutations:{addrenderdata(e,n){e.renderInfo=[...e.renderInfo,{name:n.name,times:1,price:n.price}]},handledelete(e,n){e.renderInfo=e.renderInfo.filter(e=>e.name!==n.name)},handleAdd(e,n){0===e.renderInfo.length?(this.commit("addrenderdata",n),e.moshi=[...e.moshi,n.name]):e.moshi.includes(n.name)?e.renderInfo.forEach(e=>{e.name===n.name&&e.times++}):(e.moshi=[...e.moshi,n.name],e.renderInfo=[...e.renderInfo,{name:n.name,times:1,price:n.price}])}}});new Vue({el:"#app",store:s,data:{goodsList:[{id:0,name:"奥尔良鸡腿堡",price:"15",classtype:"主食",url:"./images/aoerliangham.jpg"},{id:1,name:"可口可乐",price:"7",classtype:"饮料",url:"./images/coco.jpg"},{id:2,name:"芬达",price:"7",classtype:"饮料",url:"./images/fenda.jpg"},{id:3,name:"藤香鸡腿堡",price:"18",classtype:"主食",url:"./images/hamburger.jpeg"},{id:4,name:"鸡腿堡",price:"10",classtype:"主食",url:"./images/jituiham.jpeg"},{id:5,name:"雪碧",price:"7",classtype:"饮料",url:"./images/spirit.jpeg"},{id:6,name:"大薯",price:"16",classtype:"小食",url:"./images/shutiaoL.jpg"},{id:7,name:"中薯",price:"10",classtype:"小食",url:"./images/shutiaoM.jpg"},{id:8,name:"小薯",price:"6",classtype:"小食",url:"./images/shutiaoS.jpeg"}],list:[]},created(){this.mysort(this.goodsList)},methods:{mysort(e){e.sort((e,n)=>n.price-e.price),this.list=e}},components:{orderForm:t,goodsForm:a}})}]);